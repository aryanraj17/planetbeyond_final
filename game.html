<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exoplanet Game</title>
    <style>
        body {
            margin: 0;
            background-color: #000;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        

.main {
    position: fixed;
    top: 50%;
    left: 50%;
    height: 1px;
    width: 1px;
    background-color: #fff;
    border-radius: 50%;
    box-shadow: -42vw -4vh 0px 0px #fff,25vw -41vh 0px 0px #fff,-20vw 49vh 0px 1px #fff,5vw 40vh 1px 1px #fff,29vw 19vh 1px 0px #fff,-44vw -13vh 0px 0px #fff,46vw 41vh 0px 1px #fff,-3vw -45vh 0px 1px #fff,47vw 35vh 1px 0px #fff,12vw -8vh 1px 0px #fff,-34vw 48vh 1px 1px #fff,32vw 26vh 1px 1px #fff,32vw -41vh 1px 1px #fff,0vw 37vh 1px 1px #fff,34vw -26vh 1px 0px #fff,-14vw -49vh 1px 0px #fff,-12vw 45vh 0px 1px #fff,-44vw -33vh 0px 1px #fff,-13vw 41vh 0px 0px #fff,-36vw -11vh 0px 1px #fff,-23vw -24vh 1px 0px #fff,-38vw -27vh 0px 1px #fff,16vw -19vh 0px 0px #fff,28vw 33vh 1px 0px #fff,-49vw -4vh 0px 0px #fff,16vw 32vh 0px 1px #fff,36vw -18vh 1px 0px #fff,-25vw -30vh 1px 0px #fff,-23vw 24vh 0px 1px #fff,-2vw -35vh 1px 1px #fff,-25vw 9vh 0px 0px #fff,-15vw -34vh 0px 0px #fff,-8vw -19vh 1px 0px #fff,-20vw -20vh 1px 1px #fff,42vw 50vh 0px 1px #fff,-32vw 10vh 1px 0px #fff,-23vw -17vh 0px 0px #fff,44vw 15vh 1px 0px #fff,-40vw 33vh 1px 1px #fff,-43vw 8vh 0px 0px #fff,-48vw -15vh 1px 1px #fff,-24vw 17vh 0px 0px #fff,-31vw 50vh 1px 0px #fff,36vw -38vh 0px 1px #fff,-7vw 48vh 0px 0px #fff,15vw -32vh 0px 0px #fff,29vw -41vh 0px 0px #fff,2vw 37vh 1px 0px #fff,7vw -40vh 1px 1px #fff,15vw 18vh 0px 0px #fff,25vw -13vh 1px 1px #fff,-46vw -12vh 1px 1px #fff,-18vw 22vh 0px 0px #fff,23vw -9vh 1px 0px #fff,50vw 12vh 0px 1px #fff,45vw 2vh 0px 0px #fff,14vw -48vh 1px 0px #fff,23vw 43vh 0px 1px #fff,-40vw 16vh 1px 1px #fff,20vw -31vh 0px 1px #fff,-17vw 44vh 1px 1px #fff,18vw -45vh 0px 0px #fff,33vw -6vh 0px 0px #fff,0vw 7vh 0px 1px #fff,-10vw -18vh 0px 1px #fff,-19vw 5vh 1px 0px #fff,1vw 42vh 0px 0px #fff,22vw 48vh 0px 1px #fff,39vw -8vh 1px 1px #fff,-6vw -42vh 1px 0px #fff,-47vw 34vh 0px 0px #fff,-46vw 19vh 0px 1px #fff,-12vw -32vh 0px 0px #fff,-45vw -38vh 0px 1px #fff,-28vw 18vh 1px 0px #fff,-38vw -46vh 1px 1px #fff,49vw -6vh 1px 1px #fff,-28vw 18vh 1px 1px #fff,10vw -24vh 0px 1px #fff,-5vw -11vh 1px 1px #fff,33vw -8vh 1px 0px #fff,-16vw 17vh 0px 0px #fff,18vw 27vh 0px 1px #fff,-8vw -10vh 1px 1px #fff;
  
  /* stars were too big with the layers above but left the code in case no one cares  -- as in, if noone's just that  one other loner who actually cares    */
  
  box-shadow: 24vw 9vh 1px 0px #fff,12vw -24vh 0px 1px #fff,-45vw -22vh 0px 0px #fff,-37vw -40vh 0px 1px #fff,29vw 19vh 0px 1px #fff,4vw -8vh 0px 1px #fff,-5vw 21vh 1px 1px #fff,-27vw 26vh 1px 1px #fff,-47vw -3vh 1px 1px #fff,-28vw -30vh 0px 1px #fff,-43vw -27vh 0px 1px #fff,4vw 22vh 1px 1px #fff,36vw 23vh 0px 0px #fff,-21vw 24vh 1px 1px #fff,-16vw 2vh 1px 0px #fff,-16vw -6vh 0px 0px #fff,5vw 26vh 0px 0px #fff,-34vw 41vh 0px 0px #fff,1vw 42vh 1px 1px #fff,11vw -13vh 1px 1px #fff,48vw -8vh 1px 0px #fff,22vw -15vh 0px 0px #fff,45vw 49vh 0px 0px #fff,43vw -27vh 1px 1px #fff,20vw -2vh 0px 0px #fff,8vw 22vh 0px 1px #fff,39vw 48vh 1px 1px #fff,-21vw -11vh 0px 1px #fff,-40vw 45vh 0px 1px #fff,11vw -30vh 1px 0px #fff,26vw 30vh 1px 0px #fff,45vw -29vh 0px 1px #fff,-2vw 18vh 0px 0px #fff,-29vw -45vh 1px 0px #fff,-7vw -27vh 1px 1px #fff,42vw 24vh 0px 0px #fff,45vw -48vh 1px 0px #fff,-36vw -18vh 0px 0px #fff,-44vw 13vh 0px 1px #fff,36vw 16vh 0px 1px #fff,40vw 24vh 0px 0px #fff,18vw 11vh 0px 0px #fff,-15vw -23vh 1px 0px #fff,-24vw 48vh 0px 1px #fff,27vw -45vh 1px 0px #fff,-2vw -24vh 0px 1px #fff,-15vw -28vh 0px 0px #fff,-43vw 13vh 1px 0px #fff,7vw 27vh 1px 0px #fff,47vw 5vh 0px 0px #fff,-45vw 15vh 1px 1px #fff,-5vw -28vh 0px 1px #fff,38vw 25vh 1px 1px #fff,-39vw -1vh 1px 0px #fff,5vw 0vh 1px 0px #fff,49vw 13vh 0px 0px #fff,48vw 10vh 0px 1px #fff,19vw -28vh 0px 0px #fff,4vw 7vh 0px 0px #fff,21vw 21vh 1px 1px #fff,-15vw -15vh 0px 1px #fff,-6vw -42vh 1px 0px #fff,-15vw 48vh 1px 1px #fff,-23vw 25vh 1px 1px #fff,-48vw 25vh 0px 1px #fff,-31vw -19vh 0px 1px #fff,4vw 37vh 1px 1px #fff,-43vw 28vh 0px 0px #fff,3vw -25vh 0px 1px #fff,-39vw 14vh 0px 1px #fff,-40vw 31vh 0px 1px #fff,35vw -36vh 1px 1px #fff,16vw 49vh 0px 0px #fff,6vw 39vh 0px 0px #fff,3vw -35vh 0px 1px #fff,-44vw -2vh 1px 0px #fff,-6vw 21vh 1px 0px #fff,48vw 9vh 1px 1px #fff,-43vw 30vh 1px 1px #fff,29vw -12vh 1px 1px #fff,-48vw 13vh 1px 0px #fff,-42vw 32vh 1px 1px #fff,34vw 15vh 1px 1px #fff,29vw -37vh 1px 1px #fff,28vw 2vh 0px 0px #fff;
  animation: zoom 16s alternate infinite; 
}

@keyframes zoom {
    0%{
        transform: scale(1);
    }
    100%{
        transform: scale(1.5);
    }
}
        canvas {
            border: 1px solid white;
        }
    </style>
</head>
<body>
    <div class="main"></div>
    <audio id="soundEffect" src="audio/distant-galaxy-152138.mp3" preload="auto"></audio>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <script>
        window.onload = function() {
            var audio = document.getElementById("soundEffect");
            audio.play();
        };
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");

        const SCREEN_WIDTH = canvas.width;
        const SCREEN_HEIGHT = canvas.height;

        // Define colors
        const WHITE = "white";
        const BLUE = "blue";
        const BLACK = "black";

        // Define player attributes
        const playerWidth = 50;
        const playerHeight = 60;
        let playerX = SCREEN_WIDTH / 2 - playerWidth / 2;
        let playerY = SCREEN_HEIGHT - playerHeight;
        let playerVelocityX = 0;

        // Gravity on different exoplanets
        const planetGravity = {
            "Kepler-42 d": 1.5,
            "Kepler-138 b": 3.0,
            "Kepler-62 e": 4.0,
            "Earth": 9.8,
            "kepler 452B": 15.0,
            "Gliese 581g": 20.0
        };

        // Level thresholds for leveling up
        const levelThreshold = 600;
        let currentLevel = 0;

        // Choose the initial planet
        let currentPlanet = Object.keys(planetGravity)[0];
        let gravity = planetGravity[currentPlanet];
        let fallingSpeed = gravity * 0.25;

        // Falling object attributes
        const fallingObjectWidth = 30; // New width for rectangular objects
        const fallingObjectHeight = 15; // New height for rectangular objects
        let fallingObjects = [];

        // Game over flag
        let gameOver = false;

        // Score
        let score = 0;

        // Countdown before the game starts
        function countdown() {
            let countdownTime = 3; // 3 seconds countdown
            const countdownInterval = setInterval(() => {
                ctx.fillStyle = BLACK;
                ctx.fillRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);
                ctx.fillStyle = WHITE;
                ctx.font = "36px Arial";
                ctx.fillText(`Game starts in ${countdownTime}...`, SCREEN_WIDTH / 2 - 150, SCREEN_HEIGHT / 2);
                countdownTime--;
                if (countdownTime < 0) {
                    clearInterval(countdownInterval);
                    startGame();
                }
            }, 1000);
        }

        function startGame() {
            // Main game loop
            const gameLoop = setInterval(() => {
                ctx.fillStyle = BLACK;
                ctx.fillRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);

                // Handle key inputs
                document.onkeydown = (event) => {
                    if (gameOver) {
                        if (event.key === 'r' || event.key === 'R') {
                            restartGame();
                        }
                    } else {
                        if (event.key === 'ArrowLeft') {
                            playerVelocityX = -5;
                        } else if (event.key === 'ArrowRight') {
                            playerVelocityX = 5;
                        }
                    }
                };
                document.onkeyup = () => {
                    playerVelocityX = 0;
                };

                // Update player's position
                playerX += playerVelocityX;

                // Ensure the player doesn't move off the screen
                if (playerX < 0) playerX = 0;
                if (playerX > SCREEN_WIDTH - playerWidth) playerX = SCREEN_WIDTH - playerWidth;

                // Add new falling objects with a lower frequency
                if (Math.random() < 0.01667) { // ~1 in 60 chance
                    const newObjectX = Math.floor(Math.random() * (SCREEN_WIDTH - fallingObjectWidth));
                    fallingObjects.push([newObjectX, 0]);
                }

                // Move falling objects
                for (let obj of fallingObjects) {
                    obj[1] += fallingSpeed;
                }

                // Remove objects that are off the screen
                fallingObjects = fallingObjects.filter(obj => obj[1] < SCREEN_HEIGHT);

                // Check for collisions with falling objects
                for (let obj of fallingObjects) {
                    if (checkCollision(playerX, playerY, obj[0], obj[1])) {
                        gameOver = true;
                        clearInterval(gameLoop);
                        displayGameOver();
                        break;
                    }
                }

                // Update the score based on the number of falling objects avoided
                score++;

                // Change planet based on score
                changePlanet();

                // Draw everything
                drawPlayer(playerX, playerY);
                for (let obj of fallingObjects) {
                    drawObject(obj[0], obj[1]);
                }
                displayPlanetInfo();
            }, 1000 / 60); // 60 frames per second
        }

        function drawPlayer(x, y) {
            ctx.fillStyle = BLUE;
            ctx.fillRect(x, y, playerWidth, playerHeight);
        }

        function drawObject(x, y) {
            ctx.fillStyle = WHITE;
            ctx.fillRect(x, y, fallingObjectWidth, fallingObjectHeight); // Draw rectangle
        }

        function displayPlanetInfo() {
            ctx.fillStyle = WHITE;
            ctx.font = "24px Arial";
            ctx.fillText(`Planet: ${currentPlanet} | Gravity: ${gravity.toFixed(1)} | Score: ${score}`, 10, 30);
        }

        function checkCollision(playerX, playerY, objectX, objectY) {
            return (playerX < objectX + fallingObjectWidth &&
                playerX + playerWidth > objectX &&
                playerY < objectY + fallingObjectHeight &&
                playerY + playerHeight > objectY);
        }

        function changePlanet() {
            // Check if the player has reached the next level
            if (Math.floor(score / levelThreshold) > currentLevel) {
                currentLevel++;
                if (currentLevel < Object.keys(planetGravity).length) {
                    currentPlanet = Object.keys(planetGravity)[currentLevel];
                    gravity = planetGravity[currentPlanet];
                    fallingSpeed = gravity * 0.25;
                    console.log(`Level Up! Now on ${currentPlanet} with gravity ${gravity.toFixed(1)}`);
                }
            }
        }

        function displayGameOver() {
            ctx.fillStyle = BLACK;
            ctx.fillRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);
            ctx.fillStyle = WHITE;
            ctx.font = "36px Arial";
            ctx.fillText("Game Over!", SCREEN_WIDTH / 2 - 100, SCREEN_HEIGHT / 2 - 20);
            ctx.font = "24px Arial";
            ctx.fillText("Press 'R' to restart", SCREEN_WIDTH / 2 - 120, SCREEN_HEIGHT / 2 + 20);
        }

        function restartGame() {
            playerX = SCREEN_WIDTH / 2 - playerWidth / 2;
            playerY = SCREEN_HEIGHT - playerHeight;
            playerVelocityX = 0;
            fallingObjects = [];
            score = 0;
            currentLevel = 0;

            // Reset to the initial planet and gravity
            currentPlanet = Object.keys(planetGravity)[0];
            gravity = planetGravity[currentPlanet];
            fallingSpeed = gravity * 0.25;

            gameOver = false;
            startGame();
        }

        // Start the countdown
        countdown();
    </script>
</body>
</html>


